<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Wizard - AI-Powered Travel Itinerary Planner</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

        .screen { width: 100%; min-height: 100vh; display: none; }
        .screen.active { display: flex !important; align-items: center; justify-content: center; }

        #welcome-screen {
            position: relative;
            overflow: hidden;
        }

        #welcome-screen::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image:
                url('https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=600&q=80'),
                url('https://images.unsplash.com/photo-1513581166391-887a96ddeafd?w=600&q=80'),
                url('https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=600&q=80'),
                url('https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=600&q=80'),
                url('https://images.unsplash.com/photo-1499856871958-5b9627545d1a?w=600&q=80'),
                url('https://images.unsplash.com/photo-1523906834658-6e24ef2386f9?w=600&q=80');
            background-size: 50% 33.33%, 50% 33.33%, 50% 33.33%, 50% 33.33%, 50% 33.33%, 50% 33.33%;
            background-position:
                0% 0%,
                50% 0%,
                0% 33.33%,
                50% 33.33%,
                0% 66.66%,
                50% 66.66%;
            background-repeat: no-repeat;
            filter: blur(3px);
            z-index: 1;
        }

        #welcome-screen::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102,126,234,0.92) 0%, rgba(118,75,162,0.92) 100%);
            z-index: 2;
        }
        #form-screen { background: linear-gradient(to bottom, #f9fafb, #f3f4f6); }

        .welcome-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            max-width: 1200px;
            padding: 40px;
            align-items: center;
            position: relative;
            z-index: 3;
        }

        .welcome-content { color: white; text-align: left; }
        .welcome-title {
            font-size: 3.5rem;
            margin-bottom: 20px;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .welcome-subtitle {
            font-size: 1.3rem;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        .welcome-features { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 30px 0; }
        .feature-item {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .feature-item:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .feature-icon { font-size: 2rem; display: block; margin-bottom: 10px; }
        .feature-text { font-size: 0.95rem; font-weight: 600; }

        .destinations-gallery {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .destination-card {
            position: relative;
            height: 200px;
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .destination-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 40px rgba(0,0,0,0.4);
        }

        .destination-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .destination-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            padding: 15px;
            color: white;
        }

        .destination-name {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .destination-country {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        @media (max-width: 968px) {
            .welcome-wrapper {
                grid-template-columns: 1fr;
                text-align: center;
            }
            .welcome-content { text-align: center; }
            .welcome-title { font-size: 2.5rem; }
        }

        .btn { padding: 15px 40px; font-size: 18px; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .btn-primary { background: white; color: #667eea; }
        .btn-primary:hover { transform: scale(1.05); }
        .btn-secondary { background: white; color: #374151; border: 1px solid #d1d5db; }

        .form-container { background: white; padding: 40px; border-radius: 16px; max-width: 800px; width: 90%; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1); }
        .form-title { font-size: 2rem; margin-bottom: 10px; text-align: center; }
        .form-subtitle { color: #6b7280; text-align: center; margin-bottom: 20px; }

        .form-info-banner { background: linear-gradient(135deg, #667eea15, #764ba215); border-left: 4px solid #667eea; padding: 20px; border-radius: 8px; margin-bottom: 30px; }
        .form-info-banner strong { color: #667eea; }

        .form-group { margin-bottom: 25px; }
        .form-label { display: block; margin-bottom: 8px; font-weight: 600; color: #374151; }
        .label-required { color: #ef4444; }
        .form-input, .form-select { width: 100%; padding: 12px; font-size: 16px; border: 1px solid #d1d5db; border-radius: 6px; }
        .form-help { font-size: 14px; color: #6b7280; margin-top: 5px; display: block; }

        .checkbox-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
        .checkbox-label { display: flex; align-items: center; padding: 12px; background: white; border: 2px solid #e5e7eb; border-radius: 6px; cursor: pointer; }
        .checkbox-label:hover { border-color: #667eea; background: #dbeafe; }
        .checkbox-input { margin-right: 10px; }

        .form-actions { display: flex; gap: 10px; margin-top: 30px; padding-top: 20px; border-top: 1px solid #e5e7eb; }
        .form-actions .btn { flex: 1; }

        /* Itinerary Screen Styles */
        #itinerary-screen { background: linear-gradient(to bottom, #f9fafb, #ffffff); }
        .itinerary-container { max-width: 900px; width: 90%; padding: 40px 0; }
        .itinerary-header { background: white; padding: 30px; border-radius: 16px; margin-bottom: 30px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .itinerary-title { font-size: 2.5rem; color: #667eea; margin-bottom: 10px; }
        .itinerary-subtitle { color: #6b7280; font-size: 1.1rem; }
        .itinerary-summary { display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap; }
        .summary-item { display: flex; align-items: center; gap: 8px; color: #374151; }
        .summary-icon { font-size: 1.2rem; }

        .day-card { background: white; padding: 30px; border-radius: 16px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .day-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #e5e7eb; }
        .day-title { font-size: 1.8rem; color: #667eea; font-weight: 700; }
        .day-subtitle { color: #6b7280; }

        .activity { margin-bottom: 25px; padding-left: 20px; border-left: 3px solid #667eea; }
        .activity:last-child { margin-bottom: 0; }
        .activity-time { font-weight: 700; color: #667eea; font-size: 1rem; margin-bottom: 8px; }
        .activity-name { font-size: 1.2rem; font-weight: 600; color: #374151; margin-bottom: 8px; }
        .activity-description { color: #6b7280; line-height: 1.6; margin-bottom: 8px; }
        .activity-tips { background: #f3f4f6; padding: 12px; border-radius: 8px; font-size: 0.9rem; color: #4b5563; }

        .itinerary-actions { margin-top: 30px; display: flex; gap: 15px; }
        .itinerary-actions .btn { flex: 1; }

        /* Photo Spots Screen Styles */
        #photo-spots-screen { background: linear-gradient(to bottom, #f9fafb, #ffffff); padding: 40px 20px; }
        .photo-spots-container { max-width: 1200px; width: 100%; margin: 0 auto; }
        .photo-spots-header { text-align: center; margin-bottom: 40px; }
        .photo-spots-title { font-size: 2.5rem; color: #667eea; margin-bottom: 15px; }
        .photo-spots-subtitle { font-size: 1.2rem; color: #6b7280; }

        .photo-spot-card { background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 30px; transition: all 0.3s; }
        .photo-spot-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.15); }

        .photo-spot-image { width: 100%; height: 400px; object-fit: cover; }
        .photo-spot-content { padding: 25px; }
        .photo-spot-name { font-size: 1.8rem; font-weight: 700; color: #374151; margin-bottom: 10px; }
        .photo-spot-badge { display: inline-block; padding: 6px 12px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; margin-bottom: 15px; }
        .badge-day { background: #fef3c7; color: #92400e; }
        .badge-night { background: #dbeafe; color: #1e40af; }
        .photo-spot-description { color: #6b7280; line-height: 1.7; margin-bottom: 15px; }
        .photo-spot-tips { background: #f3f4f6; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea; }
        .photo-spot-tips strong { color: #667eea; }

        .photo-city-form { background: white; padding: 30px; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 500px; margin: 0 auto; }
        .photo-actions { margin-top: 30px; display: flex; gap: 15px; justify-content: center; }

        /* Safety Screen Styles */
        #safety-screen { background: linear-gradient(to bottom, #fef3c7, #ffffff); padding: 40px 20px; }
        .safety-container { max-width: 1000px; width: 100%; margin: 0 auto; }
        .safety-header { text-align: center; margin-bottom: 40px; }
        .safety-title { font-size: 2.5rem; color: #d97706; margin-bottom: 15px; }
        .safety-subtitle { font-size: 1.2rem; color: #78350f; }

        .safety-city-form { background: white; padding: 30px; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; }

        .alert-box { padding: 20px; border-radius: 12px; margin-bottom: 20px; }
        .alert-critical { background: #fee2e2; border-left: 4px solid #dc2626; }
        .alert-warning { background: #fef3c7; border-left: 4px solid #f59e0b; }
        .alert-info { background: #dbeafe; border-left: 4px solid #3b82f6; }
        .alert-success { background: #d1fae5; border-left: 4px solid #10b981; }

        .alert-box h3 { margin-bottom: 10px; font-size: 1.3rem; display: flex; align-items: center; gap: 10px; }
        .alert-box p { line-height: 1.7; margin-bottom: 10px; }
        .alert-box ul { margin-left: 20px; margin-top: 10px; }
        .alert-box li { margin-bottom: 8px; line-height: 1.6; }

        .safety-section { background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .safety-section h3 { font-size: 1.5rem; color: #374151; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .safety-section p { color: #6b7280; line-height: 1.7; margin-bottom: 12px; }

        .safety-actions { margin-top: 30px; display: flex; gap: 15px; justify-content: center; }

        /* Dining Screen Styles */
        #dining-screen { background: linear-gradient(to bottom, #fef3c7, #ffffff); padding: 40px 20px; }
        .dining-container { max-width: 1000px; width: 100%; margin: 0 auto; }
        .dining-header { text-align: center; margin-bottom: 40px; }
        .dining-title { font-size: 2.5rem; color: #f59e0b; margin-bottom: 15px; }
        .dining-subtitle { font-size: 1.2rem; color: #78350f; }

        .dining-form { background: white; padding: 30px; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 700px; margin: 0 auto; }

        .restaurant-card { background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 25px; }
        .restaurant-image { width: 100%; height: 250px; object-fit: cover; }
        .restaurant-content { padding: 25px; }
        .restaurant-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 15px; }
        .restaurant-name { font-size: 1.8rem; font-weight: 700; color: #374151; }
        .restaurant-rating { background: #fbbf24; color: white; padding: 6px 12px; border-radius: 20px; font-weight: 600; font-size: 0.9rem; }
        .restaurant-cuisine { display: inline-block; background: #e0e7ff; color: #3730a3; padding: 6px 12px; border-radius: 16px; font-size: 0.85rem; font-weight: 600; margin-bottom: 12px; }
        .restaurant-description { color: #6b7280; line-height: 1.7; margin-bottom: 15px; }
        .restaurant-details { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; margin-bottom: 15px; }
        .detail-item { display: flex; align-items: center; gap: 8px; color: #4b5563; font-size: 0.9rem; }
        .meal-time-badge { background: #d1fae5; color: #065f46; padding: 8px 16px; border-radius: 20px; font-weight: 600; display: inline-block; margin-bottom: 15px; }
        .restaurant-tip { background: #fef3c7; padding: 15px; border-radius: 8px; border-left: 4px solid #f59e0b; }
        .restaurant-tip strong { color: #f59e0b; }

        .dining-actions { margin-top: 30px; display: flex; gap: 15px; justify-content: center; }

        /* Transportation Screen Styles */
        #transport-screen { background: linear-gradient(to bottom, #dbeafe, #ffffff); padding: 40px 20px; }
        .transport-container { max-width: 1000px; width: 100%; margin: 0 auto; }
        .transport-header { text-align: center; margin-bottom: 40px; }
        .transport-title { font-size: 2.5rem; color: #2563eb; margin-bottom: 15px; }
        .transport-subtitle { font-size: 1.2rem; color: #1e40af; }

        .transport-form { background: white; padding: 30px; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; }

        .transport-section { background: white; padding: 25px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .transport-section h3 { font-size: 1.6rem; color: #374151; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .transport-section p { color: #6b7280; line-height: 1.7; margin-bottom: 12px; }

        .transport-option { background: #f3f4f6; padding: 15px; border-radius: 8px; margin-bottom: 12px; border-left: 4px solid #2563eb; }
        .transport-option h4 { color: #1e40af; margin-bottom: 8px; font-size: 1.1rem; }
        .transport-option p { margin-bottom: 8px; font-size: 0.95rem; }
        .transport-option .price-info { color: #059669; font-weight: 600; }
        .transport-option .hours-info { color: #7c3aed; font-size: 0.9rem; }

        .transport-tip { background: #dbeafe; padding: 15px; border-radius: 8px; border-left: 4px solid #2563eb; margin-top: 15px; }
        .transport-tip strong { color: #2563eb; }

        .transport-actions { margin-top: 30px; display: flex; gap: 15px; justify-content: center; }
    </style>
</head>
<body>
    <div id="app">
        <!-- Welcome Screen -->
        <section id="welcome-screen" class="screen active">
            <div class="welcome-wrapper">
                <div class="welcome-content">
                    <h1 class="welcome-title">Welcome to Aruna's Travel Wizard</h1>
                    <p class="welcome-subtitle">Create Your Dream Vacation Itinerary</p>

                    <div class="welcome-features">
                        <div class="feature-item" data-feature="safety">
                            <span class="feature-icon">🛡️</span>
                            <span class="feature-text">Travel Safety Considerations</span>
                        </div>
                        <div class="feature-item" data-feature="photos">
                            <span class="feature-icon">📸</span>
                            <span class="feature-text">Photo Spots</span>
                        </div>
                        <div class="feature-item" data-feature="dining">
                            <span class="feature-icon">🍽️</span>
                            <span class="feature-text">Dining Recommendations</span>
                        </div>
                        <div class="feature-item" data-feature="transport">
                            <span class="feature-icon">🚌</span>
                            <span class="feature-text">Transportation Tips</span>
                        </div>
                    </div>

                    <button id="start-btn" class="btn btn-primary">Start Planning Your Adventure</button>
                </div>

                <div class="destinations-gallery">
                    <div class="destination-card" data-destination="paris">
                        <img src="https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=600&q=80" alt="Paris">
                        <div class="destination-overlay">
                            <div class="destination-name">Paris</div>
                            <div class="destination-country">France 🇫🇷</div>
                        </div>
                    </div>
                    <div class="destination-card" data-destination="tokyo">
                        <img src="https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=600&q=80" alt="Tokyo">
                        <div class="destination-overlay">
                            <div class="destination-name">Tokyo</div>
                            <div class="destination-country">Japan 🇯🇵</div>
                        </div>
                    </div>
                    <div class="destination-card" data-destination="newyork">
                        <img src="https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=600&q=80" alt="New York">
                        <div class="destination-overlay">
                            <div class="destination-name">New York</div>
                            <div class="destination-country">USA 🇺🇸</div>
                        </div>
                    </div>
                    <div class="destination-card" data-destination="dubai">
                        <img src="https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=600&q=80" alt="Dubai">
                        <div class="destination-overlay">
                            <div class="destination-name">Dubai</div>
                            <div class="destination-country">UAE 🇦🇪</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Form Screen -->
        <section id="form-screen" class="screen">
            <div class="form-container">
                <h2 class="form-title">Plan Your Perfect Trip</h2>
                <p class="form-subtitle">Tell us about your dream destination and preferences</p>

                <div class="form-info-banner">
                    <p><strong>What you'll receive:</strong> A personalized day-by-day itinerary with recommended attractions, dining spots, transportation tips, and insider advice tailored to your interests and budget!</p>
                </div>

                <form id="itinerary-form">
                    <div class="form-group">
                        <label class="form-label">Which city do you want to visit? <span class="label-required">*</span></label>
                        <input type="text" class="form-input" placeholder="e.g., Paris, Tokyo, New York, Barcelona, Dubai..." required>
                        <small class="form-help">💡 Tip: Enter any major city worldwide. Popular choices include Paris for art lovers, Tokyo for food enthusiasts, or Rome for history buffs!</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label">How many days will you be staying? <span class="label-required">*</span></label>
                        <select class="form-select" required>
                            <option value="">Select duration...</option>
                            <option value="1">1 day</option>
                            <option value="2">2 days</option>
                            <option value="3">3 days</option>
                            <option value="5">5 days</option>
                            <option value="7">7 days (1 week)</option>
                        </select>
                        <small class="form-help">💡 Tip: We recommend 3-5 days for a comprehensive city experience, or 7+ days for a more relaxed pace with day trips!</small>
                    </div>

                    <div class="form-group">
                        <label class="form-label">What are your travel interests? <span class="label-required">*</span></label>
                        <small class="form-help">💡 Tip: Select at least one interest. Choose multiple for a well-rounded itinerary!</small>
                        <div class="checkbox-grid">
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" value="sightseeing">
                                <span>🏛️ Sightseeing</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" value="museums">
                                <span>🏛️ Museums</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" value="food">
                                <span>🍽️ Food & Dining</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="checkbox-input" value="culture">
                                <span>🎭 Culture</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="button" id="back-btn" class="btn btn-secondary">← Back</button>
                        <button type="submit" class="btn btn-primary">Generate My Itinerary</button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Itinerary Screen -->
        <section id="itinerary-screen" class="screen">
            <div class="itinerary-container" id="itinerary-content">
                <!-- Itinerary will be generated here -->
            </div>
        </section>

        <!-- Photo Spots Screen -->
        <section id="photo-spots-screen" class="screen">
            <div class="photo-spots-container" id="photo-spots-container">
                <!-- Photo spots input form or results will be shown here -->
                <div class="photo-city-form">
                    <h2 class="form-title">📸 Discover Photo Spots</h2>
                    <p class="form-subtitle">Find the most Instagram-worthy locations in your destination</p>

                    <form id="photo-spots-form">
                        <div class="form-group">
                            <label class="form-label">Which city do you want to photograph? <span class="label-required">*</span></label>
                            <input type="text" id="photo-city-input" class="form-input" placeholder="e.g., Paris, Tokyo, New York..." required>
                            <small class="form-help">💡 Enter the city name to discover the best photo opportunities!</small>
                        </div>

                        <div class="photo-actions">
                            <button type="button" class="btn btn-secondary" onclick="backToHomeFromPhotos()">← Back</button>
                            <button type="submit" class="btn btn-primary">Find Photo Spots</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Safety Screen -->
        <section id="safety-screen" class="screen">
            <div class="safety-container" id="safety-container">
                <!-- Safety form or results will be shown here -->
                <div class="safety-city-form">
                    <h2 class="form-title">🛡️ Travel Safety Information</h2>
                    <p class="form-subtitle">Get important safety considerations for your destination</p>

                    <form id="safety-form">
                        <div class="form-group">
                            <label class="form-label">Which city are you traveling to? <span class="label-required">*</span></label>
                            <input type="text" id="safety-city-input" class="form-input" placeholder="e.g., Paris, Tokyo, New York..." required>
                            <small class="form-help">💡 Enter the city name to get safety information</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Suburb or Neighborhood (Optional)</label>
                            <input type="text" id="safety-suburb-input" class="form-input" placeholder="e.g., Shibuya, Brooklyn, Le Marais...">
                            <small class="form-help">💡 Optional: Get specific safety info for a particular area</small>
                        </div>

                        <div class="safety-actions">
                            <button type="button" class="btn btn-secondary" onclick="backToHomeFromSafety()">← Back</button>
                            <button type="submit" class="btn btn-primary">Get Safety Information</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Dining Screen -->
        <section id="dining-screen" class="screen">
            <div class="dining-container" id="dining-container">
                <!-- Dining form or results will be shown here -->
                <div class="dining-form">
                    <h2 class="form-title">🍽️ Dining Recommendations</h2>
                    <p class="form-subtitle">Discover the best restaurants tailored to your preferences</p>

                    <form id="dining-form">
                        <div class="form-group">
                            <label class="form-label">Which city are you dining in? <span class="label-required">*</span></label>
                            <input type="text" id="dining-city-input" class="form-input" placeholder="e.g., Paris, Tokyo, New York..." required>
                            <small class="form-help">💡 Enter the city to find great restaurants</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Cuisine Preference <span class="label-required">*</span></label>
                            <select id="dining-cuisine-input" class="form-select" required>
                                <option value="">Select cuisine type...</option>
                                <option value="local">Local/Traditional Cuisine</option>
                                <option value="continental">Continental/International</option>
                                <option value="asian">Asian</option>
                                <option value="italian">Italian</option>
                                <option value="french">French</option>
                                <option value="street">Street Food</option>
                            </select>
                            <small class="form-help">💡 Choose your preferred type of cuisine</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Dietary Restrictions or Allergies</label>
                            <input type="text" id="dining-dietary-input" class="form-input" placeholder="e.g., Vegetarian, Gluten-free, Nut allergy...">
                            <small class="form-help">💡 Optional: Let us know about any dietary requirements</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Ambience/Setting <span class="label-required">*</span></label>
                            <select id="dining-ambience-input" class="form-select" required>
                                <option value="">Select ambience...</option>
                                <option value="formal">Formal/Fine Dining</option>
                                <option value="casual">Casual Dining</option>
                                <option value="street">Street Food/Food Stalls</option>
                                <option value="romantic">Romantic</option>
                                <option value="family">Family-Friendly</option>
                                <option value="trendy">Trendy/Hip</option>
                            </select>
                            <small class="form-help">💡 Select the type of dining experience you prefer</small>
                        </div>

                        <div class="dining-actions">
                            <button type="button" class="btn btn-secondary" onclick="backToHomeFromDining()">← Back</button>
                            <button type="submit" class="btn btn-primary">Find Restaurants</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <!-- Transportation Screen -->
        <section id="transport-screen" class="screen">
            <div class="transport-container" id="transport-container">
                <!-- Transportation form or results will be shown here -->
                <div class="transport-form">
                    <h2 class="form-title">🚌 Transportation Tips</h2>
                    <p class="form-subtitle">Get comprehensive transportation information for your destination</p>

                    <form id="transport-form">
                        <div class="form-group">
                            <label class="form-label">Which city are you visiting? <span class="label-required">*</span></label>
                            <input type="text" id="transport-city-input" class="form-input" placeholder="e.g., Paris, Tokyo, New York..." required>
                            <small class="form-help">💡 Enter the city to get transportation information</small>
                        </div>

                        <div class="transport-actions">
                            <button type="button" class="btn btn-secondary" onclick="backToHomeFromTransport()">← Back</button>
                            <button type="submit" class="btn btn-primary">Get Transportation Info</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </div>

    <script>
        function showForm() {
            document.getElementById('welcome-screen').classList.remove('active');
            document.getElementById('form-screen').classList.add('active');
        }

        document.getElementById('start-btn').addEventListener('click', showForm);

        // Add click handlers to all feature cards
        document.querySelectorAll('.feature-item').forEach(function(item) {
            item.addEventListener('click', function(e) {
                var feature = e.currentTarget.getAttribute('data-feature');
                if (feature === 'photos') {
                    showPhotoSpots();
                } else if (feature === 'safety') {
                    showSafety();
                } else if (feature === 'dining') {
                    showDining();
                } else if (feature === 'transport') {
                    showTransport();
                } else {
                    showForm();
                }
            });
        });

        // Add click handlers to all destination cards
        document.querySelectorAll('.destination-card').forEach(function(card) {
            card.addEventListener('click', showForm);
        });

        function backToHome() {
            document.getElementById('form-screen').classList.remove('active');
            document.getElementById('itinerary-screen').classList.remove('active');
            document.getElementById('welcome-screen').classList.add('active');
        }

        document.getElementById('back-btn').addEventListener('click', backToHome);

        document.getElementById('itinerary-form').addEventListener('submit', function(e) {
            e.preventDefault();

            // Capture form data
            var city = document.querySelector('#itinerary-form .form-input').value;
            var days = parseInt(document.querySelector('#itinerary-form .form-select').value);
            var interests = [];
            document.querySelectorAll('#itinerary-form .checkbox-input:checked').forEach(function(checkbox) {
                interests.push(checkbox.value);
            });

            // Validate at least one interest is selected
            if (interests.length === 0) {
                alert('Please select at least one interest!');
                return;
            }

            // Generate and display itinerary
            generateItinerary(city, days, interests);

            // Switch to itinerary screen
            document.getElementById('form-screen').classList.remove('active');
            document.getElementById('itinerary-screen').classList.add('active');
        });

        function generateItinerary(city, days, interests) {
            var itineraryContent = document.getElementById('itinerary-content');
            var interestsText = interests.map(function(int) { return int.charAt(0).toUpperCase() + int.slice(1); }).join(', ');

            var html = '<div class="itinerary-header">';
            html += '<h1 class="itinerary-title">Your ' + city + ' Adventure</h1>';
            html += '<p class="itinerary-subtitle">A personalized ' + days + '-day itinerary crafted just for you</p>';
            html += '<div class="itinerary-summary">';
            html += '<div class="summary-item"><span class="summary-icon">📍</span><strong>Destination:</strong> ' + city + '</div>';
            html += '<div class="summary-item"><span class="summary-icon">📅</span><strong>Duration:</strong> ' + days + ' days</div>';
            html += '<div class="summary-item"><span class="summary-icon">❤️</span><strong>Interests:</strong> ' + interestsText + '</div>';
            html += '</div></div>';

            // Generate day-by-day itinerary
            for (var day = 1; day <= days; day++) {
                html += generateDayItinerary(day, city, interests);
            }

            // Add action buttons
            html += '<div class="itinerary-actions">';
            html += '<button class="btn btn-secondary" onclick="backToForm()">← Edit Trip Details</button>';
            html += '<button class="btn btn-primary" onclick="window.print()">🖨️ Print Itinerary</button>';
            html += '</div>';

            itineraryContent.innerHTML = html;
        }

        function generateDayItinerary(day, city, interests) {
            var activities = getActivitiesForDay(day, city, interests);
            var html = '<div class="day-card">';
            html += '<div class="day-header">';
            html += '<div><div class="day-title">Day ' + day + '</div><div class="day-subtitle">Explore ' + city + '</div></div>';
            html += '</div>';

            activities.forEach(function(activity) {
                html += '<div class="activity">';
                html += '<div class="activity-time">' + activity.time + '</div>';
                html += '<div class="activity-name">' + activity.name + '</div>';
                html += '<div class="activity-description">' + activity.description + '</div>';
                if (activity.tips) {
                    html += '<div class="activity-tips">💡 Tip: ' + activity.tips + '</div>';
                }
                html += '</div>';
            });

            html += '</div>';
            return html;
        }

        function getActivitiesForDay(day, city, interests) {
            // Activity database by interest type
            var activityDatabase = {
                sightseeing: {
                    paris: [
                        { time: '9:00 AM', name: 'Eiffel Tower', description: 'Start your day at the iconic Eiffel Tower. Book skip-the-line tickets in advance.', tips: 'Arrive early to avoid crowds. Best views from the second floor.' },
                        { time: '2:00 PM', name: 'Arc de Triomphe', description: 'Walk along the Champs-Élysées and visit the Arc de Triomphe.', tips: 'Climb to the top for panoramic views of Paris.' },
                        { time: '5:00 PM', name: 'Seine River Cruise', description: 'Enjoy a relaxing boat ride along the Seine River.', tips: 'Evening cruises offer beautiful sunset views.' }
                    ],
                    tokyo: [
                        { time: '9:00 AM', name: 'Senso-ji Temple', description: 'Visit Tokyo\'s oldest temple in Asakusa.', tips: 'Try the traditional snacks on Nakamise Shopping Street.' },
                        { time: '2:00 PM', name: 'Tokyo Skytree', description: 'Experience breathtaking views from Japan\'s tallest structure.', tips: 'Book tickets online to skip the queue.' },
                        { time: '5:00 PM', name: 'Shibuya Crossing', description: 'Witness the world\'s busiest pedestrian crossing.', tips: 'Best viewed from the Starbucks overlooking the crossing.' }
                    ],
                    default: [
                        { time: '9:00 AM', name: 'City Walking Tour', description: 'Explore the city\'s main attractions on a guided walking tour.', tips: 'Wear comfortable shoes and bring water.' },
                        { time: '2:00 PM', name: 'Historic District', description: 'Discover the historic heart of ' + city + ' and its architecture.', tips: 'Take lots of photos and enjoy local street food.' },
                        { time: '5:00 PM', name: 'Sunset Viewpoint', description: 'Watch the sunset from the best viewpoint in the city.', tips: 'Arrive 30 minutes early to get a good spot.' }
                    ]
                },
                museums: {
                    paris: [
                        { time: '10:00 AM', name: 'Louvre Museum', description: 'Explore the world\'s largest art museum and see the Mona Lisa.', tips: 'Book timed entry tickets online. Don\'t miss the Venus de Milo.' },
                        { time: '3:00 PM', name: 'Musée d\'Orsay', description: 'Admire impressionist and post-impressionist masterpieces.', tips: 'The museum is less crowded on weekday afternoons.' }
                    ],
                    tokyo: [
                        { time: '10:00 AM', name: 'Tokyo National Museum', description: 'Discover Japanese art and antiquities.', tips: 'Allow 2-3 hours to explore the extensive collections.' },
                        { time: '3:00 PM', name: 'teamLab Borderless', description: 'Experience immersive digital art installations.', tips: 'Book tickets weeks in advance as this sells out quickly.' }
                    ],
                    default: [
                        { time: '10:00 AM', name: 'National Museum', description: 'Explore the city\'s premier museum collection.', tips: 'Audio guides are available in multiple languages.' },
                        { time: '3:00 PM', name: 'Art Gallery', description: 'Visit the contemporary art gallery featuring local and international artists.', tips: 'Check for special exhibitions during your visit.' }
                    ]
                },
                food: {
                    paris: [
                        { time: '12:30 PM', name: 'French Bistro Lunch', description: 'Enjoy authentic French cuisine at a traditional bistro.', tips: 'Try the coq au vin or boeuf bourguignon.' },
                        { time: '7:30 PM', name: 'Fine Dining Experience', description: 'Indulge in a Michelin-starred dining experience.', tips: 'Make reservations at least 2 weeks in advance.' }
                    ],
                    tokyo: [
                        { time: '12:00 PM', name: 'Ramen Lunch', description: 'Try authentic Tokyo-style ramen at a local shop.', tips: 'Tsukiji area has many excellent ramen spots.' },
                        { time: '7:00 PM', name: 'Izakaya Dinner', description: 'Experience Japanese pub culture with small plates and drinks.', tips: 'Order a variety of dishes to share.' }
                    ],
                    default: [
                        { time: '12:30 PM', name: 'Local Cuisine Lunch', description: 'Sample traditional dishes at a popular local restaurant.', tips: 'Ask locals for their favorite spots.' },
                        { time: '7:30 PM', name: 'Dinner at Top-Rated Restaurant', description: 'Enjoy the city\'s culinary highlights.', tips: 'Try the chef\'s tasting menu for the full experience.' }
                    ]
                },
                culture: {
                    paris: [
                        { time: '11:00 AM', name: 'Notre-Dame & Latin Quarter', description: 'Explore the historic Latin Quarter and Notre-Dame Cathedral.', tips: 'Visit Shakespeare and Company bookshop nearby.' },
                        { time: '4:00 PM', name: 'Montmartre', description: 'Discover the artistic neighborhood and Sacré-Cœur Basilica.', tips: 'Watch street artists at Place du Tertre.' }
                    ],
                    tokyo: [
                        { time: '11:00 AM', name: 'Meiji Shrine', description: 'Experience tranquility at this important Shinto shrine.', tips: 'Combine with a walk through nearby Yoyogi Park.' },
                        { time: '4:00 PM', name: 'Harajuku & Omotesando', description: 'Explore youth culture and trendy fashion districts.', tips: 'Takeshita Street is best visited on weekdays.' }
                    ],
                    default: [
                        { time: '11:00 AM', name: 'Cultural Center Visit', description: 'Immerse yourself in local culture and traditions.', tips: 'Look for free cultural performances or demonstrations.' },
                        { time: '4:00 PM', name: 'Historic Neighborhood', description: 'Walk through the culturally rich historic district.', tips: 'Join a local guide for deeper insights.' }
                    ]
                }
            };

            var dayActivities = [];
            var cityLower = city.toLowerCase();

            // Select activities based on interests
            interests.forEach(function(interest) {
                var cityActivities = activityDatabase[interest][cityLower] || activityDatabase[interest]['default'];
                if (cityActivities && cityActivities.length > 0) {
                    var activityIndex = (day - 1) % cityActivities.length;
                    dayActivities.push(cityActivities[activityIndex]);
                }
            });

            // If no activities matched, add generic activities
            if (dayActivities.length === 0) {
                dayActivities = [
                    { time: '9:00 AM', name: 'Morning Exploration', description: 'Start your day exploring ' + city + '\'s highlights.', tips: 'Get an early start to beat the crowds.' },
                    { time: '2:00 PM', name: 'Afternoon Activity', description: 'Continue discovering the beauty of ' + city + '.', tips: 'Take breaks and stay hydrated.' },
                    { time: '7:00 PM', name: 'Evening Experience', description: 'End your day with local dining and nightlife.', tips: 'Ask locals for their favorite spots.' }
                ];
            }

            return dayActivities;
        }

        function backToForm() {
            document.getElementById('itinerary-screen').classList.remove('active');
            document.getElementById('form-screen').classList.add('active');
        }

        // Photo Spots Functions
        function showPhotoSpots() {
            document.getElementById('welcome-screen').classList.remove('active');
            document.getElementById('photo-spots-screen').classList.add('active');
        }

        function backToHomeFromPhotos() {
            document.getElementById('photo-spots-screen').classList.remove('active');
            document.getElementById('welcome-screen').classList.add('active');
            // Reset form
            document.getElementById('photo-spots-form').reset();
            document.getElementById('photo-spots-container').innerHTML = `
                <div class="photo-city-form">
                    <h2 class="form-title">📸 Discover Photo Spots</h2>
                    <p class="form-subtitle">Find the most Instagram-worthy locations in your destination</p>

                    <form id="photo-spots-form">
                        <div class="form-group">
                            <label class="form-label">Which city do you want to photograph? <span class="label-required">*</span></label>
                            <input type="text" id="photo-city-input" class="form-input" placeholder="e.g., Paris, Tokyo, New York..." required>
                            <small class="form-help">💡 Enter the city name to discover the best photo opportunities!</small>
                        </div>

                        <div class="photo-actions">
                            <button type="button" class="btn btn-secondary" onclick="backToHomeFromPhotos()">← Back</button>
                            <button type="submit" class="btn btn-primary">Find Photo Spots</button>
                        </div>
                    </form>
                </div>
            `;
            attachPhotoSpotsFormHandler();
        }

        function attachPhotoSpotsFormHandler() {
            document.getElementById('photo-spots-form').addEventListener('submit', function(e) {
                e.preventDefault();
                var city = document.getElementById('photo-city-input').value;
                displayPhotoSpots(city);
            });
        }

        // Initialize photo spots form handler
        attachPhotoSpotsFormHandler();

        function displayPhotoSpots(city) {
            var photoSpotsData = getPhotoSpotsForCity(city);
            var container = document.getElementById('photo-spots-container');

            var html = '<div class="photo-spots-header">';
            html += '<h1 class="photo-spots-title">📸 Best Photo Spots in ' + city + '</h1>';
            html += '<p class="photo-spots-subtitle">Capture unforgettable moments at these stunning locations</p>';
            html += '</div>';

            photoSpotsData.forEach(function(spot) {
                html += '<div class="photo-spot-card">';
                html += '<img src="' + spot.image + '" alt="' + spot.name + '" class="photo-spot-image">';
                html += '<div class="photo-spot-content">';
                html += '<h3 class="photo-spot-name">' + spot.name + '</h3>';
                html += '<span class="photo-spot-badge badge-' + spot.timeOfDay + '">';
                html += (spot.timeOfDay === 'day' ? '☀️ Best During Day' : '🌙 Best at Night');
                html += '</span>';
                html += '<p class="photo-spot-description">' + spot.description + '</p>';
                html += '<div class="photo-spot-tips"><strong>Photography Tips:</strong> ' + spot.tips + '</div>';
                html += '</div></div>';
            });

            html += '<div class="photo-actions" style="margin-top: 20px;">';
            html += '<button class="btn btn-secondary" onclick="backToHomeFromPhotos()">← Back to Home</button>';
            html += '<button class="btn btn-primary" onclick="window.print()">🖨️ Print Guide</button>';
            html += '</div>';

            container.innerHTML = html;
        }

        function getPhotoSpotsForCity(city) {
            var photoDatabase = {
                paris: [
                    {
                        name: 'Eiffel Tower from Trocadéro',
                        image: 'https://images.unsplash.com/photo-1511739001486-6bfe10ce785f?w=1200&q=80',
                        timeOfDay: 'day',
                        description: 'The most iconic view of the Eiffel Tower. Trocadéro Gardens offers the perfect vantage point for capturing the Iron Lady in all her glory.',
                        tips: 'Arrive at sunrise (around 7 AM) for golden hour lighting and fewer crowds. Use a wide-angle lens to capture both the tower and fountains.'
                    },
                    {
                        name: 'Pont Alexandre III at Sunset',
                        image: 'https://images.unsplash.com/photo-1502602898657-3e91760cbb34?w=1200&q=80',
                        timeOfDay: 'night',
                        description: 'This ornate bridge is one of the most beautiful in Paris, especially when lit up at night with the Eiffel Tower sparkling in the background.',
                        tips: 'Visit during blue hour (30 minutes after sunset) for magical lighting. Position yourself at the center of the bridge for symmetrical shots.'
                    },
                    {
                        name: 'Montmartre Streets',
                        image: 'https://images.unsplash.com/photo-1499856871958-5b9627545d1a?w=1200&q=80',
                        timeOfDay: 'day',
                        description: 'Charming cobblestone streets and pastel-colored buildings make Montmartre a photographer\'s paradise.',
                        tips: 'Explore early morning (before 9 AM) for empty streets. Rue de l\'Abreuvoir is particularly photogenic with Sacré-Cœur in the background.'
                    }
                ],
                tokyo: [
                    {
                        name: 'Shibuya Crossing',
                        image: 'https://images.unsplash.com/photo-1542051841857-5f90071e7989?w=1200&q=80',
                        timeOfDay: 'night',
                        description: 'The world\'s busiest pedestrian crossing becomes a mesmerizing sea of people and neon lights at night.',
                        tips: 'Shoot from the Starbucks overlooking the crossing or from street level with a wide-angle lens. Use slow shutter speed to capture light trails.'
                    },
                    {
                        name: 'Senso-ji Temple',
                        image: 'https://images.unsplash.com/photo-1528360983277-13d401cdc186?w=1200&q=80',
                        timeOfDay: 'day',
                        description: 'Tokyo\'s oldest temple with its iconic red lantern and traditional architecture provides stunning cultural photography opportunities.',
                        tips: 'Visit early morning (6-7 AM) before tour groups arrive. The Kaminarimon Gate with the giant red lantern is the most iconic shot.'
                    },
                    {
                        name: 'Tokyo Tower at Night',
                        image: 'https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?w=1200&q=80',
                        timeOfDay: 'night',
                        description: 'Tokyo Tower illuminated against the city skyline creates a stunning contrast of tradition meeting modernity.',
                        tips: 'Shoot from Shiba Park for foreground interest, or from Roppongi Hills for elevated cityscape views. Use long exposure for smooth light trails.'
                    }
                ],
                'new york': [
                    {
                        name: 'Brooklyn Bridge at Dawn',
                        image: 'https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?w=1200&q=80',
                        timeOfDay: 'day',
                        description: 'The iconic Brooklyn Bridge with Manhattan skyline offers one of the most recognizable views in the world.',
                        tips: 'Arrive before sunrise for golden hour magic. Shoot from Brooklyn Bridge Park or DUMBO for classic Manhattan skyline compositions.'
                    },
                    {
                        name: 'Times Square at Night',
                        image: 'https://images.unsplash.com/photo-1519501025264-65ba15a82390?w=1200&q=80',
                        timeOfDay: 'night',
                        description: 'The blazing neon lights and giant digital billboards create an electrifying urban landscape.',
                        tips: 'Use high ISO and fast shutter speed to freeze the action. Rainy nights add beautiful reflections on wet pavement.'
                    },
                    {
                        name: 'Central Park from Above',
                        image: 'https://images.unsplash.com/photo-1518391846015-55a9cc003b25?w=1200&q=80',
                        timeOfDay: 'day',
                        description: 'The contrast of green oasis surrounded by skyscrapers is uniquely New York.',
                        tips: 'Visit Top of the Rock or The Edge for best aerial views. Autumn foliage season (October-November) offers spectacular colors.'
                    }
                ],
                dubai: [
                    {
                        name: 'Burj Khalifa at Sunset',
                        image: 'https://images.unsplash.com/photo-1512453979798-5ea266f8880c?w=1200&q=80',
                        timeOfDay: 'night',
                        description: 'The world\'s tallest building against a dramatic desert sunset is breathtaking.',
                        tips: 'Shoot from Dubai Mall fountains area during fountain show for dynamic foreground. Use HDR for capturing both bright sky and shadows.'
                    },
                    {
                        name: 'Dubai Marina Skyline',
                        image: 'https://images.unsplash.com/photo-1518684079-3c830dcef090?w=1200&q=80',
                        timeOfDay: 'night',
                        description: 'Modern skyscrapers reflected in the calm marina waters create stunning mirror effects.',
                        tips: 'Blue hour provides the best light. Walk along the promenade for various angles. Use long exposure for smooth water reflections.'
                    },
                    {
                        name: 'Gold Souk',
                        image: 'https://images.unsplash.com/photo-1580674684081-7617fbf3d745?w=1200&q=80',
                        timeOfDay: 'day',
                        description: 'Traditional market with dazzling gold displays offers authentic cultural photography.',
                        tips: 'Ask permission before photographing shopkeepers. Use natural light from market openings for warm, authentic tones.'
                    }
                ]
            };

            var cityLower = city.toLowerCase();
            var spots = photoDatabase[cityLower];

            if (!spots) {
                // Generic photo spots for unlisted cities
                spots = [
                    {
                        name: 'City Center',
                        image: 'https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=1200&q=80',
                        timeOfDay: 'day',
                        description: 'The heart of ' + city + ' showcases the city\'s unique character and architecture.',
                        tips: 'Visit during golden hour (1 hour after sunrise or before sunset) for the best natural lighting.'
                    },
                    {
                        name: 'Historic District',
                        image: 'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=1200&q=80',
                        timeOfDay: 'day',
                        description: 'Explore the charming historic areas with traditional architecture and local culture.',
                        tips: 'Early morning provides soft light and fewer tourists for cleaner shots.'
                    },
                    {
                        name: 'City Skyline at Night',
                        image: 'https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?w=1200&q=80',
                        timeOfDay: 'night',
                        description: 'The illuminated city skyline creates a stunning nightscape perfect for photography.',
                        tips: 'Use a tripod and long exposure to capture city lights. Blue hour offers the best sky-to-light balance.'
                    }
                ];
            }

            return spots;
        }

        // Safety Functions
        function showSafety() {
            document.getElementById('welcome-screen').classList.remove('active');
            document.getElementById('safety-screen').classList.add('active');
        }

        function backToHomeFromSafety() {
            document.getElementById('safety-screen').classList.remove('active');
            document.getElementById('welcome-screen').classList.add('active');
            // Reset form
            document.getElementById('safety-form').reset();
            document.getElementById('safety-container').innerHTML = `
                <div class="safety-city-form">
                    <h2 class="form-title">🛡️ Travel Safety Information</h2>
                    <p class="form-subtitle">Get important safety considerations for your destination</p>

                    <form id="safety-form">
                        <div class="form-group">
                            <label class="form-label">Which city are you traveling to? <span class="label-required">*</span></label>
                            <input type="text" id="safety-city-input" class="form-input" placeholder="e.g., Paris, Tokyo, New York..." required>
                            <small class="form-help">💡 Enter the city name to get safety information</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Suburb or Neighborhood (Optional)</label>
                            <input type="text" id="safety-suburb-input" class="form-input" placeholder="e.g., Shibuya, Brooklyn, Le Marais...">
                            <small class="form-help">💡 Optional: Get specific safety info for a particular area</small>
                        </div>

                        <div class="safety-actions">
                            <button type="button" class="btn btn-secondary" onclick="backToHomeFromSafety()">← Back</button>
                            <button type="submit" class="btn btn-primary">Get Safety Information</button>
                        </div>
                    </form>
                </div>
            `;
            attachSafetyFormHandler();
        }

        function attachSafetyFormHandler() {
            document.getElementById('safety-form').addEventListener('submit', function(e) {
                e.preventDefault();
                var city = document.getElementById('safety-city-input').value;
                var suburb = document.getElementById('safety-suburb-input').value;
                displaySafetyInfo(city, suburb);
            });
        }

        // Initialize safety form handler
        attachSafetyFormHandler();

        function displaySafetyInfo(city, suburb) {
            var safetyData = getSafetyDataForCity(city, suburb);
            var container = document.getElementById('safety-container');

            var html = '<div class="safety-header">';
            html += '<h1 class="safety-title">🛡️ Safety Information for ' + city + '</h1>';
            if (suburb) {
                html += '<p class="safety-subtitle">Specific information for ' + suburb + ' neighborhood</p>';
            } else {
                html += '<p class="safety-subtitle">Stay safe during your visit</p>';
            }
            html += '</div>';

            // Travel restrictions & advisories
            if (safetyData.restrictions && safetyData.restrictions.length > 0) {
                html += '<div class="alert-box alert-critical">';
                html += '<h3>🚨 Travel Restrictions & Advisories</h3>';
                safetyData.restrictions.forEach(function(restriction) {
                    html += '<p>' + restriction + '</p>';
                });
                html += '</div>';
            }

            // Pickpocketing warnings
            if (safetyData.pickpocketing) {
                html += '<div class="alert-box alert-warning">';
                html += '<h3>⚠️ Pickpocketing Risks</h3>';
                html += '<p>' + safetyData.pickpocketing.description + '</p>';
                html += '<ul>';
                safetyData.pickpocketing.hotspots.forEach(function(spot) {
                    html += '<li><strong>' + spot + '</strong></li>';
                });
                html += '</ul>';
                html += '<p><strong>Prevention Tips:</strong></p><ul>';
                safetyData.pickpocketing.tips.forEach(function(tip) {
                    html += '<li>' + tip + '</li>';
                });
                html += '</ul></div>';
            }

            // High crime areas
            if (safetyData.crimeareas && safetyData.crimeareas.length > 0) {
                html += '<div class="alert-box alert-warning">';
                html += '<h3>🚫 Areas to Avoid</h3>';
                html += '<p>Exercise extra caution or avoid these areas, especially at night:</p>';
                html += '<ul>';
                safetyData.crimeareas.forEach(function(area) {
                    html += '<li><strong>' + area.name + ':</strong> ' + area.reason + '</li>';
                });
                html += '</ul></div>';
            }

            // Emergency contacts
            html += '<div class="safety-section">';
            html += '<h3>📞 Emergency Contacts</h3>';
            html += '<p><strong>Police:</strong> ' + safetyData.emergency.police + '</p>';
            html += '<p><strong>Ambulance:</strong> ' + safetyData.emergency.ambulance + '</p>';
            html += '<p><strong>Fire:</strong> ' + safetyData.emergency.fire + '</p>';
            if (safetyData.emergency.tourist) {
                html += '<p><strong>Tourist Police/Helpline:</strong> ' + safetyData.emergency.tourist + '</p>';
            }
            html += '</div>';

            // General safety tips
            html += '<div class="safety-section">';
            html += '<h3>💡 General Safety Tips</h3>';
            html += '<ul>';
            safetyData.generalTips.forEach(function(tip) {
                html += '<li>' + tip + '</li>';
            });
            html += '</ul></div>';

            // Transportation safety
            if (safetyData.transportation) {
                html += '<div class="safety-section">';
                html += '<h3>🚕 Transportation Safety</h3>';
                html += '<ul>';
                safetyData.transportation.forEach(function(tip) {
                    html += '<li>' + tip + '</li>';
                });
                html += '</ul></div>';
            }

            // Safe areas
            if (safetyData.safeareas && safetyData.safeareas.length > 0) {
                html += '<div class="alert-box alert-success">';
                html += '<h3>✅ Safe & Tourist-Friendly Areas</h3>';
                html += '<p>These areas are generally safe and well-suited for tourists:</p>';
                html += '<ul>';
                safetyData.safeareas.forEach(function(area) {
                    html += '<li><strong>' + area + '</strong></li>';
                });
                html += '</ul></div>';
            }

            html += '<div class="safety-actions">';
            html += '<button class="btn btn-secondary" onclick="backToHomeFromSafety()">← Back to Home</button>';
            html += '<button class="btn btn-primary" onclick="window.print()">🖨️ Print Safety Guide</button>';
            html += '</div>';

            container.innerHTML = html;
        }

        function getSafetyDataForCity(city, suburb) {
            var safetyDatabase = {
                paris: {
                    restrictions: [],
                    pickpocketing: {
                        description: 'Paris has a moderate to high risk of pickpocketing, especially in tourist areas.',
                        hotspots: [
                            'Metro lines 1 and 4 (especially near Eiffel Tower and Champs-Élysées)',
                            'Around the Eiffel Tower and Trocadéro',
                            'Louvre Museum and surrounding areas',
                            'Champs-Élysées and Arc de Triomphe',
                            'Sacré-Cœur in Montmartre',
                            'Train stations (Gare du Nord, Gare de Lyon)'
                        ],
                        tips: [
                            'Keep bags in front of you on public transport',
                            'Use anti-theft bags or money belts',
                            'Be wary of distraction techniques (petition signers, ring finders)',
                            'Avoid displaying expensive jewelry or electronics',
                            'Keep valuables in hotel safe when not needed'
                        ]
                    },
                    crimeareas: [
                        { name: 'Northern Paris (18th, 19th, 20th arrondissements)', reason: 'Higher crime rates, especially at night' },
                        { name: 'Gare du Nord area', reason: 'Known for petty theft and scams targeting tourists' },
                        { name: 'Stalingrad and La Chapelle', reason: 'Avoid after dark' }
                    ],
                    safeareas: [
                        'Le Marais (3rd & 4th arrondissements)',
                        'Latin Quarter (5th arrondissement)',
                        'Saint-Germain-des-Prés (6th arrondissement)',
                        '7th arrondissement (Eiffel Tower area)',
                        'Champs-Élysées area (8th arrondissement)'
                    ],
                    emergency: {
                        police: '17 or 112',
                        ambulance: '15 or 112',
                        fire: '18 or 112',
                        tourist: 'Tourist Police: +33 1 53 71 53 71'
                    },
                    generalTips: [
                        'Learn basic French phrases - locals appreciate the effort',
                        'Metro is safe but crowded during rush hours',
                        'Tap water is safe to drink',
                        'Smoking is banned in enclosed public spaces',
                        'Restaurants typically add service charge, additional tipping is optional',
                        'Be cautious of "gold ring" scam near tourist attractions'
                    ],
                    transportation: [
                        'Use official taxis with meters or Uber/Bolt apps',
                        'Metro runs until 1:15 AM (2:15 AM on Fridays/Saturdays)',
                        'Keep ticket until end of journey for validation',
                        'Avoid unlicensed taxis at airports and train stations'
                    ]
                },
                tokyo: {
                    restrictions: [],
                    pickpocketing: {
                        description: 'Tokyo is one of the safest major cities in the world with extremely low pickpocketing rates.',
                        hotspots: [
                            'Shibuya Station during peak hours',
                            'Shinjuku Station (world\'s busiest)',
                            'Tourist attractions during festivals'
                        ],
                        tips: [
                            'While Tokyo is very safe, always keep valuables secure',
                            'Lost items are often turned in to police stations',
                            'Report any theft to local police (koban)',
                            'Keep important documents in hotel safe'
                        ]
                    },
                    crimeareas: [
                        { name: 'Kabukicho (Shinjuku)', reason: 'Red-light district, avoid late night if unfamiliar' },
                        { name: 'Roppongi late at night', reason: 'Higher concentration of bars, potential for drink spiking' }
                    ],
                    safeareas: [
                        'Shibuya (busy but safe)',
                        'Harajuku and Omotesando',
                        'Ginza',
                        'Asakusa',
                        'Akihabara',
                        'Shinjuku (daytime)'
                    ],
                    emergency: {
                        police: '110',
                        ambulance: '119',
                        fire: '119',
                        tourist: 'Japan Helpline: 0570-000-911 (24/7 English support)'
                    },
                    generalTips: [
                        'Earthquakes are common - familiarize yourself with safety procedures',
                        'Remove shoes when entering homes, temples, and some restaurants',
                        'Don\'t eat while walking',
                        'Public transportation is extremely punctual',
                        'Tipping is not customary and can be considered rude',
                        'Cash is still widely used - carry yen',
                        'Tattoos may restrict entry to some onsens and pools'
                    ],
                    transportation: [
                        'Public transport is incredibly safe and efficient',
                        'Women-only train cars available during rush hours',
                        'Trains stop running around midnight',
                        'Taxis are safe but expensive - use apps for convenience',
                        'JR Pass offers great value for tourists'
                    ]
                },
                'new york': {
                    restrictions: [],
                    pickpocketing: {
                        description: 'New York has moderate pickpocketing risk in crowded tourist areas and subway.',
                        hotspots: [
                            'Times Square',
                            'Subway trains (especially lines 1, 2, 3, 4, 5, 6)',
                            'Penn Station and Grand Central Terminal',
                            'Brooklyn Bridge walkway',
                            'Central Park during events'
                        ],
                        tips: [
                            'Keep bags zipped and in front of you',
                            'Avoid displaying phones or wallets prominently',
                            'Be alert in crowded subway cars',
                            'Don\'t leave bags unattended',
                            'Use cross-body bags or anti-theft backpacks'
                        ]
                    },
                    crimeareas: [
                        { name: 'Parts of the Bronx', reason: 'Some areas have higher crime rates' },
                        { name: 'East New York (Brooklyn)', reason: 'Exercise caution, especially at night' },
                        { name: 'Certain areas of Harlem', reason: 'Stick to main streets and avoid late night walks' },
                        { name: 'Parts of Staten Island', reason: 'Some isolated areas best avoided after dark' }
                    ],
                    safeareas: [
                        'Manhattan (Midtown, Upper East/West Side)',
                        'Financial District',
                        'Chelsea and Greenwich Village',
                        'Brooklyn (DUMBO, Williamsburg, Park Slope)',
                        'Long Island City (Queens)'
                    ],
                    emergency: {
                        police: '911',
                        ambulance: '911',
                        fire: '911',
                        tourist: 'NYC 311 (non-emergency city services)'
                    },
                    generalTips: [
                        'Be aware of your surroundings, especially at night',
                        'Avoid confrontation with aggressive panhandlers',
                        'Use ATMs inside banks during daytime when possible',
                        'Don\'t stop for street scams or aggressive solicitors',
                        'Keep emergency numbers saved in your phone',
                        'Stay in well-lit, populated areas at night'
                    ],
                    transportation: [
                        'Subway is generally safe but crowded during rush hours',
                        'Avoid empty subway cars late at night',
                        'Use official yellow or green cabs, or ride-sharing apps',
                        'Avoid unlicensed "gypsy cabs"',
                        'Download the MYmta app for real-time transit updates'
                    ]
                },
                dubai: {
                    restrictions: [
                        'Dress modestly in public areas (cover shoulders and knees)',
                        'Public displays of affection are illegal and can result in arrest',
                        'Drinking alcohol only allowed in licensed venues (hotels, restaurants)',
                        'Being drunk in public is illegal',
                        'Photography of government buildings and military areas is prohibited',
                        'Ramadan observance required in public (no eating/drinking during daylight)'
                    ],
                    pickpocketing: {
                        description: 'Dubai has very low pickpocketing rates due to strict law enforcement.',
                        hotspots: [
                            'Dubai Mall during peak hours',
                            'Gold Souk',
                            'Public beaches during weekends'
                        ],
                        tips: [
                            'While very safe, remain vigilant in crowded areas',
                            'Keep valuables secure at beaches',
                            'Report any incidents to police immediately',
                            'Keep important documents in hotel safe'
                        ]
                    },
                    crimeareas: [],
                    safeareas: [
                        'Dubai Marina',
                        'Downtown Dubai',
                        'Jumeirah',
                        'Dubai Mall area',
                        'Business Bay',
                        'Palm Jumeirah'
                    ],
                    emergency: {
                        police: '999',
                        ambulance: '998 or 999',
                        fire: '997 or 999',
                        tourist: 'Dubai Tourist Security: 800 4438'
                    },
                    generalTips: [
                        'Respect local customs and Islamic traditions',
                        'Dress conservatively, especially in traditional areas',
                        'Avoid public displays of affection',
                        'Don\'t photograph people without permission',
                        'Ramadan requires special considerations',
                        'Zero tolerance for drugs - extremely strict laws',
                        'Heat can be extreme - stay hydrated',
                        'Friday is a holy day - some businesses closed'
                    ],
                    transportation: [
                        'Public transport is safe, modern, and air-conditioned',
                        'Taxis are metered and regulated',
                        'Uber and Careem are widely available',
                        'Metro has women and children-only cars',
                        'Driving is on the right side of the road',
                        'Strict traffic laws - no drinking and driving'
                    ]
                }
            };

            var cityLower = city.toLowerCase();
            var data = safetyDatabase[cityLower];

            if (!data) {
                // Generic safety information for unlisted cities
                data = {
                    restrictions: [
                        'Check your government\'s travel advisory website for current restrictions',
                        'Verify visa requirements before travel',
                        'Register with your embassy if staying long-term'
                    ],
                    pickpocketing: {
                        description: 'Exercise standard precautions against pickpocketing in tourist areas.',
                        hotspots: [
                            'Tourist attractions',
                            'Public transportation',
                            'Crowded markets',
                            'Train/bus stations'
                        ],
                        tips: [
                            'Keep valuables in front pockets or secure bags',
                            'Use hotel safes for passports and extra cash',
                            'Be aware of distraction techniques',
                            'Avoid displaying expensive items',
                            'Make copies of important documents'
                        ]
                    },
                    crimeareas: [],
                    safeareas: [
                        'Stay in well-reviewed tourist areas',
                        'Choose accommodations in central, well-lit areas',
                        'Research neighborhood safety before booking'
                    ],
                    emergency: {
                        police: 'Contact local police (check local emergency number)',
                        ambulance: 'Check local emergency number',
                        fire: 'Check local emergency number',
                        tourist: 'Contact your embassy for assistance'
                    },
                    generalTips: [
                        'Research local customs and laws before traveling',
                        'Keep emergency contacts saved in your phone',
                        'Share your itinerary with family/friends',
                        'Purchase comprehensive travel insurance',
                        'Keep digital copies of important documents',
                        'Learn basic phrases in the local language',
                        'Trust your instincts - if something feels wrong, leave',
                        'Avoid walking alone in unfamiliar areas at night'
                    ],
                    transportation: [
                        'Use official taxis or ride-sharing apps',
                        'Research public transport safety',
                        'Avoid traveling alone late at night',
                        'Keep belongings secure on public transport'
                    ]
                };
            }

            // Add suburb-specific information if provided
            if (suburb) {
                // This could be expanded with suburb-specific data
                data.generalTips.unshift('You\'ve selected ' + suburb + ' - always verify current local conditions');
            }

            return data;
        }

        // Dining Functions
        function showDining() {
            document.getElementById('welcome-screen').classList.remove('active');
            document.getElementById('dining-screen').classList.add('active');
        }

        function backToHomeFromDining() {
            document.getElementById('dining-screen').classList.remove('active');
            document.getElementById('welcome-screen').classList.add('active');
            // Reset form
            document.getElementById('dining-form').reset();
            document.getElementById('dining-container').innerHTML = `
                <div class="dining-form">
                    <h2 class="form-title">🍽️ Dining Recommendations</h2>
                    <p class="form-subtitle">Discover the best restaurants tailored to your preferences</p>

                    <form id="dining-form">
                        <div class="form-group">
                            <label class="form-label">Which city are you dining in? <span class="label-required">*</span></label>
                            <input type="text" id="dining-city-input" class="form-input" placeholder="e.g., Paris, Tokyo, New York..." required>
                            <small class="form-help">💡 Enter the city to find great restaurants</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Cuisine Preference <span class="label-required">*</span></label>
                            <select id="dining-cuisine-input" class="form-select" required>
                                <option value="">Select cuisine type...</option>
                                <option value="local">Local/Traditional Cuisine</option>
                                <option value="continental">Continental/International</option>
                                <option value="asian">Asian</option>
                                <option value="italian">Italian</option>
                                <option value="french">French</option>
                                <option value="street">Street Food</option>
                            </select>
                            <small class="form-help">💡 Choose your preferred type of cuisine</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Dietary Restrictions or Allergies</label>
                            <input type="text" id="dining-dietary-input" class="form-input" placeholder="e.g., Vegetarian, Gluten-free, Nut allergy...">
                            <small class="form-help">💡 Optional: Let us know about any dietary requirements</small>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Ambience/Setting <span class="label-required">*</span></label>
                            <select id="dining-ambience-input" class="form-select" required>
                                <option value="">Select ambience...</option>
                                <option value="formal">Formal/Fine Dining</option>
                                <option value="casual">Casual Dining</option>
                                <option value="street">Street Food/Food Stalls</option>
                                <option value="romantic">Romantic</option>
                                <option value="family">Family-Friendly</option>
                                <option value="trendy">Trendy/Hip</option>
                            </select>
                            <small class="form-help">💡 Select the type of dining experience you prefer</small>
                        </div>

                        <div class="dining-actions">
                            <button type="button" class="btn btn-secondary" onclick="backToHomeFromDining()">← Back</button>
                            <button type="submit" class="btn btn-primary">Find Restaurants</button>
                        </div>
                    </form>
                </div>
            `;
            attachDiningFormHandler();
        }

        function attachDiningFormHandler() {
            document.getElementById('dining-form').addEventListener('submit', function(e) {
                e.preventDefault();
                var city = document.getElementById('dining-city-input').value;
                var cuisine = document.getElementById('dining-cuisine-input').value;
                var dietary = document.getElementById('dining-dietary-input').value;
                var ambience = document.getElementById('dining-ambience-input').value;
                displayDiningRecommendations(city, cuisine, dietary, ambience);
            });
        }

        // Initialize dining form handler
        attachDiningFormHandler();

        function displayDiningRecommendations(city, cuisine, dietary, ambience) {
            var restaurants = getRestaurantsForCity(city, cuisine, dietary, ambience);
            var container = document.getElementById('dining-container');

            var html = '<div class="dining-header">';
            html += '<h1 class="dining-title">🍽️ Dining in ' + city + '</h1>';
            html += '<p class="dining-subtitle">Top-rated restaurants matching your preferences</p>';
            html += '</div>';

            if (restaurants.length === 0) {
                html += '<div class="alert-box alert-info">';
                html += '<h3>No specific matches found</h3>';
                html += '<p>We don\'t have specific restaurant data for your exact preferences in ' + city + ', but we recommend exploring popular dining areas and checking review sites like TripAdvisor or Google Maps for current recommendations.</p>';
                html += '</div>';
            } else {
                restaurants.forEach(function(restaurant) {
                    html += '<div class="restaurant-card">';
                    html += '<img src="' + restaurant.image + '" alt="' + restaurant.name + '" class="restaurant-image">';
                    html += '<div class="restaurant-content">';
                    html += '<div class="restaurant-header">';
                    html += '<h3 class="restaurant-name">' + restaurant.name + '</h3>';
                    html += '<span class="restaurant-rating">⭐ ' + restaurant.rating + '</span>';
                    html += '</div>';
                    html += '<span class="restaurant-cuisine">' + restaurant.cuisineType + '</span>';
                    if (restaurant.mealTime) {
                        html += '<div class="meal-time-badge">🍴 Best for ' + restaurant.mealTime + '</div>';
                    }
                    html += '<p class="restaurant-description">' + restaurant.description + '</p>';
                    html += '<div class="restaurant-details">';
                    html += '<div class="detail-item">💰 ' + restaurant.priceRange + '</div>';
                    html += '<div class="detail-item">📍 ' + restaurant.location + '</div>';
                    if (restaurant.reservations) {
                        html += '<div class="detail-item">📞 ' + restaurant.reservations + '</div>';
                    }
                    if (restaurant.hours) {
                        html += '<div class="detail-item">🕐 ' + restaurant.hours + '</div>';
                    }
                    html += '</div>';
                    if (restaurant.tip) {
                        html += '<div class="restaurant-tip"><strong>Insider Tip:</strong> ' + restaurant.tip + '</div>';
                    }
                    html += '</div></div>';
                });
            }

            html += '<div class="dining-actions">';
            html += '<button class="btn btn-secondary" onclick="backToHomeFromDining()">← Back to Home</button>';
            html += '<button class="btn btn-primary" onclick="window.print()">🖨️ Print Recommendations</button>';
            html += '</div>';

            container.innerHTML = html;
        }

        function getRestaurantsForCity(city, cuisine, dietary, ambience) {
            var restaurantDatabase = {
                paris: {
                    local: [
                        {
                            name: 'Le Comptoir du Relais',
                            image: 'https://images.unsplash.com/photo-1550966871-3ed3cdb5ed0c?w=800&q=80',
                            cuisineType: 'French Bistro',
                            rating: '4.5/5',
                            priceRange: '€€€',
                            location: 'Saint-Germain-des-Prés',
                            mealTime: 'Lunch & Dinner',
                            description: 'Classic French bistro serving authentic Parisian cuisine. Known for their duck confit and beef bourguignon.',
                            tip: 'Go for lunch between 12-2 PM when they offer a great prix-fixe menu. Dinner reservations required weeks in advance.',
                            reservations: 'Reservations essential',
                            hours: '12PM-2PM, 7PM-11PM'
                        },
                        {
                            name: 'L\'Ami Jean',
                            image: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800&q=80',
                            cuisineType: 'Basque Cuisine',
                            rating: '4.6/5',
                            priceRange: '€€€',
                            location: 'Eiffel Tower District',
                            mealTime: 'Dinner',
                            description: 'Lively bistro offering robust Basque-inspired French fare with generous portions.',
                            tip: 'Best rated for an evening meal around 8 PM. The rice pudding dessert is legendary!',
                            reservations: 'Book 2 weeks ahead',
                            hours: '7PM-10:30PM'
                        }
                    ],
                    street: [
                        {
                            name: 'L\'As du Fallafel',
                            image: 'https://images.unsplash.com/photo-1529006557810-274b9b2fc783?w=800&q=80',
                            cuisineType: 'Middle Eastern Street Food',
                            rating: '4.7/5',
                            priceRange: '€',
                            location: 'Le Marais',
                            mealTime: 'Lunch',
                            description: 'Iconic falafel shop serving the best falafel sandwiches in Paris. Always a line but worth the wait!',
                            tip: 'Perfect for a quick lunch around 12:30 PM. Get there before 12 to avoid the longest queues. Cash only!',
                            reservations: 'No reservations',
                            hours: '12PM-12AM (closed Sat)'
                        }
                    ],
                    formal: [
                        {
                            name: 'Le Jules Verne',
                            image: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&q=80',
                            cuisineType: 'French Fine Dining',
                            rating: '4.4/5',
                            priceRange: '€€€€',
                            location: 'Eiffel Tower (2nd floor)',
                            mealTime: 'Dinner',
                            description: 'Michelin-starred restaurant inside the Eiffel Tower offering exceptional French cuisine with breathtaking views.',
                            tip: 'Book dinner at 8 PM for sunset views. Reserve 2-3 months in advance. Dress code is smart casual to formal.',
                            reservations: 'Required months ahead',
                            hours: '12PM-1:30PM, 7PM-9PM'
                        }
                    ]
                },
                tokyo: {
                    local: [
                        {
                            name: 'Ichiran Ramen',
                            image: 'https://images.unsplash.com/photo-1569718212165-3a8278d5f624?w=800&q=80',
                            cuisineType: 'Ramen',
                            rating: '4.6/5',
                            priceRange: '¥¥',
                            location: 'Multiple locations (Shibuya, Shinjuku)',
                            mealTime: 'Lunch & Dinner',
                            description: 'Famous tonkotsu ramen chain with individual booth seating for a focused dining experience.',
                            tip: 'Perfect for lunch around 12-1 PM or late dinner. Use the vending machine to order. Open 24/7 at some locations!',
                            reservations: 'No reservations',
                            hours: '24 hours (some locations)'
                        },
                        {
                            name: 'Tsukiji Outer Market',
                            image: 'https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=800&q=80',
                            cuisineType: 'Fresh Sushi & Seafood',
                            rating: '4.8/5',
                            priceRange: '¥¥',
                            location: 'Tsukiji',
                            mealTime: 'Breakfast & Lunch',
                            description: 'Fresh seafood market with numerous small restaurants serving the freshest sushi and sashimi.',
                            tip: 'Go early for breakfast (7-9 AM) for the freshest fish. Lunch crowds peak at noon. Try the fatty tuna!',
                            reservations: 'No reservations',
                            hours: '5AM-2PM'
                        }
                    ],
                    street: [
                        {
                            name: 'Takeshita Street Food Stalls',
                            image: 'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=800&q=80',
                            cuisineType: 'Japanese Street Food',
                            rating: '4.5/5',
                            priceRange: '¥',
                            location: 'Harajuku',
                            mealTime: 'Lunch & Snacks',
                            description: 'Vibrant street filled with crepe stands, yakitori, takoyaki, and colorful cotton candy.',
                            tip: 'Best for a light lunch or snacks between 12-3 PM. Try the famous rainbow cotton candy and savory crepes!',
                            reservations: 'Walk-up only',
                            hours: '11AM-8PM'
                        }
                    ],
                    formal: [
                        {
                            name: 'Sukiyabashi Jiro',
                            image: 'https://images.unsplash.com/photo-1611143669185-af224c5e3252?w=800&q=80',
                            cuisineType: 'Sushi (Omakase)',
                            rating: '4.9/5',
                            priceRange: '¥¥¥¥',
                            location: 'Ginza',
                            mealTime: 'Lunch & Dinner',
                            description: 'World-famous 3-Michelin-star sushi restaurant by master Jiro Ono. Ultimate sushi experience.',
                            tip: 'Extremely difficult to book (months ahead through hotel concierge). Lunch is slightly less expensive. 20-30 minute dining experience.',
                            reservations: 'Extremely difficult',
                            hours: '11:30AM-2PM, 5:30PM-8:30PM'
                        }
                    ]
                },
                'new york': {
                    local: [
                        {
                            name: 'Katz\'s Delicatessen',
                            image: 'https://images.unsplash.com/photo-1619740455993-1e9d57c6e14e?w=800&q=80',
                            cuisineType: 'Jewish Deli',
                            rating: '4.6/5',
                            priceRange: '$$',
                            location: 'Lower East Side',
                            mealTime: 'Lunch',
                            description: 'Iconic NYC deli famous for massive pastrami sandwiches. Been serving since 1888.',
                            tip: 'Best for lunch around 11:30 AM before the rush. The pastrami on rye is a must! Don\'t lose your ticket or you\'ll pay a fine.',
                            reservations: 'No reservations',
                            hours: '8AM-10:45PM daily'
                        },
                        {
                            name: 'Joe\'s Pizza',
                            image: 'https://images.unsplash.com/photo-1513104890138-7c749659a591?w=800&q=80',
                            cuisineType: 'New York Pizza',
                            rating: '4.7/5',
                            priceRange: '$',
                            location: 'Greenwich Village',
                            mealTime: 'Lunch & Dinner',
                            description: 'Classic NY-style pizza by the slice. No-frills but absolutely delicious.',
                            tip: 'Perfect for a quick lunch or late-night dinner. Get there around 12:30 PM or after 8 PM. Fold your slice!',
                            reservations: 'No reservations',
                            hours: '10AM-4AM'
                        }
                    ],
                    street: [
                        {
                            name: 'Halal Guys Cart',
                            image: 'https://images.unsplash.com/photo-1617196034796-73dfa7b1fd56?w=800&q=80',
                            cuisineType: 'Middle Eastern Street Food',
                            rating: '4.8/5',
                            priceRange: '$',
                            location: '53rd & 6th (Midtown)',
                            mealTime: 'Lunch & Late Night',
                            description: 'Legendary street cart serving chicken and lamb over rice with white and red sauce.',
                            tip: 'Best for lunch (12-2 PM) or late dinner. Lines are long but move fast. Get both sauces!',
                            reservations: 'Street cart - no reservations',
                            hours: '10AM-4AM'
                        }
                    ],
                    formal: [
                        {
                            name: 'Le Bernardin',
                            image: 'https://images.unsplash.com/photo-1559339352-11d035aa65de?w=800&q=80',
                            cuisineType: 'French Seafood',
                            rating: '4.9/5',
                            priceRange: '$$$$',
                            location: 'Midtown West',
                            mealTime: 'Dinner',
                            description: '3-Michelin-star seafood restaurant offering exquisite French-inspired dishes. One of NYC\'s finest.',
                            tip: 'Book dinner at 7:30 PM for the full experience. Reserve 2-3 months ahead. Prix-fixe lunch is more affordable.',
                            reservations: 'Required months ahead',
                            hours: '12PM-2:30PM, 5:15PM-10:30PM'
                        }
                    ],
                    casual: [
                        {
                            name: 'Shake Shack',
                            image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=800&q=80',
                            cuisineType: 'American Burgers',
                            rating: '4.5/5',
                            priceRange: '$$',
                            location: 'Multiple locations',
                            mealTime: 'Lunch & Dinner',
                            description: 'NYC-born burger chain with quality ingredients. The ShackBurger is iconic.',
                            tip: 'Perfect for casual lunch or dinner. Madison Square Park location is the original. Order through app to skip lines.',
                            reservations: 'No reservations',
                            hours: '11AM-11PM'
                        }
                    ]
                },
                dubai: {
                    local: [
                        {
                            name: 'Al Fanar Restaurant',
                            image: 'https://images.unsplash.com/photo-1585937421612-70a008356fbe?w=800&q=80',
                            cuisineType: 'Emirati Cuisine',
                            rating: '4.6/5',
                            priceRange: 'AED-AED',
                            location: 'Multiple locations',
                            mealTime: 'Lunch & Dinner',
                            description: 'Authentic Emirati food in a nostalgic 1960s Dubai setting. Try traditional dishes like machboos and luqaimat.',
                            tip: 'Great for lunch around 1 PM. Try the seafood machboos (traditional spiced rice with fish). Very family-friendly.',
                            reservations: 'Recommended for dinner',
                            hours: '8AM-12AM'
                        }
                    ],
                    formal: [
                        {
                            name: 'At.mosphere',
                            image: 'https://images.unsplash.com/photo-1544148103-0773bf10d330?w=800&q=80',
                            cuisineType: 'International Fine Dining',
                            rating: '4.7/5',
                            priceRange: 'AED-AED-AED-AED',
                            location: 'Burj Khalifa (122nd floor)',
                            mealTime: 'Lunch & Dinner',
                            description: 'World\'s highest restaurant offering contemporary cuisine with unparalleled views of Dubai.',
                            tip: 'Book lunch at 1 PM for better rates with same views. Dinner at 7 PM for sunset. Reserve 1-2 months ahead. Smart casual dress code.',
                            reservations: 'Essential - book early',
                            hours: '12:30PM-3PM, 6:30PM-12AM'
                        }
                    ],
                    street: [
                        {
                            name: 'Ravi Restaurant',
                            image: 'https://images.unsplash.com/photo-1585937421612-70a008356fbe?w=800&q=80',
                            cuisineType: 'Pakistani',
                            rating: '4.4/5',
                            priceRange: 'AED',
                            location: 'Satwa',
                            mealTime: 'Dinner',
                            description: 'No-frills, budget-friendly Pakistani restaurant famous among locals and expats. Open very late.',
                            tip: 'Best for dinner or late-night meal (8 PM onwards). Try the mutton karahi and butter naan. Cash only!',
                            reservations: 'No reservations',
                            hours: '5PM-3AM'
                        }
                    ]
                }
            };

            var cityLower = city.toLowerCase();
            var cityRestaurants = restaurantDatabase[cityLower];

            if (!cityRestaurants) {
                return [];
            }

            var results = [];

            // Match by cuisine preference
            if (cuisine === 'local' && cityRestaurants.local) {
                results = results.concat(cityRestaurants.local);
            } else if (cuisine === 'street' && cityRestaurants.street) {
                results = results.concat(cityRestaurants.street);
            }

            // Match by ambience
            if (ambience === 'formal' && cityRestaurants.formal) {
                results = results.concat(cityRestaurants.formal);
            } else if (ambience === 'casual' && cityRestaurants.casual) {
                results = results.concat(cityRestaurants.casual);
            } else if (ambience === 'street' && cityRestaurants.street) {
                if (results.indexOf(cityRestaurants.street) === -1) {
                    results = results.concat(cityRestaurants.street);
                }
            }

            // If no specific matches, return a mix from all categories
            if (results.length === 0) {
                Object.keys(cityRestaurants).forEach(function(category) {
                    if (Array.isArray(cityRestaurants[category])) {
                        results = results.concat(cityRestaurants[category].slice(0, 1));
                    }
                });
            }

            // Add dietary note if specified
            if (dietary && results.length > 0) {
                results.forEach(function(restaurant) {
                    if (!restaurant.dietaryNote) {
                        restaurant.description += ' (Note: Please inform the restaurant about your dietary restriction: ' + dietary + ')';
                    }
                });
            }

            return results;
        }

        // Transportation Functions
        function showTransport() {
            document.getElementById('welcome-screen').classList.remove('active');
            document.getElementById('transport-screen').classList.add('active');
        }

        function backToHomeFromTransport() {
            document.getElementById('transport-screen').classList.remove('active');
            document.getElementById('welcome-screen').classList.add('active');
            // Reset form
            document.getElementById('transport-form').reset();
            document.getElementById('transport-container').innerHTML = `
                <div class="transport-form">
                    <h2 class="form-title">🚌 Transportation Tips</h2>
                    <p class="form-subtitle">Get comprehensive transportation information for your destination</p>

                    <form id="transport-form">
                        <div class="form-group">
                            <label class="form-label">Which city are you visiting? <span class="label-required">*</span></label>
                            <input type="text" id="transport-city-input" class="form-input" placeholder="e.g., Paris, Tokyo, New York..." required>
                            <small class="form-help">💡 Enter the city to get transportation information</small>
                        </div>

                        <div class="transport-actions">
                            <button type="button" class="btn btn-secondary" onclick="backToHomeFromTransport()">← Back</button>
                            <button type="submit" class="btn btn-primary">Get Transportation Info</button>
                        </div>
                    </form>
                </div>
            `;
            attachTransportFormHandler();
        }

        function attachTransportFormHandler() {
            document.getElementById('transport-form').addEventListener('submit', function(e) {
                e.preventDefault();
                var city = document.getElementById('transport-city-input').value;
                displayTransportInfo(city);
            });
        }

        // Initialize transport form handler
        attachTransportFormHandler();

        function displayTransportInfo(city) {
            var transportData = getTransportDataForCity(city);
            var container = document.getElementById('transport-container');

            var html = '<div class="transport-header">';
            html += '<h1 class="transport-title">🚌 Transportation in ' + city + '</h1>';
            html += '<p class="transport-subtitle">Everything you need to know about getting around</p>';
            html += '</div>';

            // Public Transportation
            if (transportData.publicTransport) {
                html += '<div class="transport-section">';
                html += '<h3>🚇 Public Transportation</h3>';
                html += '<p>' + transportData.publicTransport.description + '</p>';
                transportData.publicTransport.options.forEach(function(option) {
                    html += '<div class="transport-option">';
                    html += '<h4>' + option.name + '</h4>';
                    html += '<p>' + option.description + '</p>';
                    if (option.price) {
                        html += '<p class="price-info">💰 ' + option.price + '</p>';
                    }
                    if (option.hours) {
                        html += '<p class="hours-info">🕐 ' + option.hours + '</p>';
                    }
                    html += '</div>';
                });
                if (transportData.publicTransport.tip) {
                    html += '<div class="transport-tip"><strong>Tip:</strong> ' + transportData.publicTransport.tip + '</div>';
                }
                html += '</div>';
            }

            // Taxis
            if (transportData.taxis) {
                html += '<div class="transport-section">';
                html += '<h3>🚕 Taxis</h3>';
                html += '<p>' + transportData.taxis.description + '</p>';
                html += '<div class="transport-option">';
                html += '<h4>Official Taxis</h4>';
                html += '<p>' + transportData.taxis.info + '</p>';
                if (transportData.taxis.price) {
                    html += '<p class="price-info">💰 ' + transportData.taxis.price + '</p>';
                }
                html += '</div>';
                if (transportData.taxis.tip) {
                    html += '<div class="transport-tip"><strong>Tip:</strong> ' + transportData.taxis.tip + '</div>';
                }
                html += '</div>';
            }

            // Ride-sharing
            if (transportData.ridesharing) {
                html += '<div class="transport-section">';
                html += '<h3>📱 Ride-Sharing Apps</h3>';
                html += '<p>' + transportData.ridesharing.description + '</p>';
                html += '<div class="transport-option">';
                html += '<h4>Available Apps</h4>';
                html += '<p><strong>Popular apps:</strong> ' + transportData.ridesharing.apps.join(', ') + '</p>';
                if (transportData.ridesharing.price) {
                    html += '<p class="price-info">💰 ' + transportData.ridesharing.price + '</p>';
                }
                html += '</div>';
                if (transportData.ridesharing.tip) {
                    html += '<div class="transport-tip"><strong>Tip:</strong> ' + transportData.ridesharing.tip + '</div>';
                }
                html += '</div>';
            }

            // Airport transfers
            if (transportData.airport) {
                html += '<div class="transport-section">';
                html += '<h3>✈️ Airport Transportation</h3>';
                html += '<p>' + transportData.airport.description + '</p>';
                transportData.airport.options.forEach(function(option) {
                    html += '<div class="transport-option">';
                    html += '<h4>' + option.name + '</h4>';
                    html += '<p>' + option.description + '</p>';
                    if (option.price) {
                        html += '<p class="price-info">💰 ' + option.price + '</p>';
                    }
                    if (option.duration) {
                        html += '<p>⏱️ Duration: ' + option.duration + '</p>';
                    }
                    html += '</div>';
                });
                html += '</div>';
            }

            // Transportation cards/passes
            if (transportData.passes) {
                html += '<div class="transport-section">';
                html += '<h3>🎫 Transportation Passes & Cards</h3>';
                transportData.passes.forEach(function(pass) {
                    html += '<div class="transport-option">';
                    html += '<h4>' + pass.name + '</h4>';
                    html += '<p>' + pass.description + '</p>';
                    html += '<p class="price-info">💰 ' + pass.price + '</p>';
                    html += '</div>';
                });
                html += '</div>';
            }

            html += '<div class="transport-actions">';
            html += '<button class="btn btn-secondary" onclick="backToHomeFromTransport()">← Back to Home</button>';
            html += '<button class="btn btn-primary" onclick="window.print()">🖨️ Print Guide</button>';
            html += '</div>';

            container.innerHTML = html;
        }

        function getTransportDataForCity(city) {
            var transportDatabase = {
                paris: {
                    publicTransport: {
                        description: 'Paris has an excellent public transportation system operated by RATP, including metro, buses, and RER trains.',
                        options: [
                            {
                                name: 'Metro',
                                description: '16 metro lines covering the city extensively. Clean, efficient, and easy to navigate.',
                                price: 'Single ticket: €2.10 | Book of 10: €16.90',
                                hours: 'Mon-Thu: 5:30 AM - 1:15 AM | Fri-Sat: 5:30 AM - 2:15 AM'
                            },
                            {
                                name: 'RER (Regional Express)',
                                description: 'Fast trains connecting Paris to suburbs and airports. Essential for Versailles and CDG Airport.',
                                price: 'Zone 1-2: €2.10 | To CDG Airport: €11.40',
                                hours: '5:00 AM - 12:30 AM'
                            },
                            {
                                name: 'Bus',
                                description: 'Extensive bus network with scenic routes. Line 72 offers great sightseeing along the Seine.',
                                price: 'Same as metro: €2.10',
                                hours: '5:30 AM - 12:30 AM (some night buses available)'
                            }
                        ],
                        tip: 'Buy a Navigo Easy card (€2) for convenient tap-and-go. Keep your ticket until end of journey for validation checks.'
                    },
                    taxis: {
                        description: 'Official Paris taxis are white and have a "TAXI PARISIEN" sign on the roof.',
                        info: 'Metered service with regulated rates. Can be hailed on street or at taxi stands.',
                        price: 'Initial charge: €2.60 | Rate A (center): €1.15/km | Airport surcharge: €7',
                        tip: 'Tipping is not mandatory but rounding up is appreciated. Avoid unmarked private cars at airports.'
                    },
                    ridesharing: {
                        description: 'Popular ride-sharing apps operate throughout Paris.',
                        apps: ['Uber', 'Bolt', 'Kapten', 'Marcel (eco-friendly)'],
                        price: 'Similar to taxi rates, surge pricing during peak hours',
                        tip: 'Apps work well but may face restrictions during peak tourist season. Book ahead for airport trips.'
                    },
                    airport: {
                        description: 'Multiple options connect Paris to Charles de Gaulle (CDG) and Orly airports.',
                        options: [
                            {
                                name: 'RER B (to CDG)',
                                description: 'Direct train from city center to CDG Airport',
                                price: '€11.40',
                                duration: '30-45 minutes'
                            },
                            {
                                name: 'Orlyval + RER B (to Orly)',
                                description: 'Automated metro + RER connection',
                                price: '€14.50',
                                duration: '35-40 minutes'
                            },
                            {
                                name: 'Le Bus Direct',
                                description: 'Comfortable shuttle buses to both airports',
                                price: '€18-22',
                                duration: '45-70 minutes depending on traffic'
                            }
                        ]
                    },
                    passes: [
                        {
                            name: 'Paris Visite Pass',
                            description: 'Unlimited travel on metro, RER, bus, and tram. Includes airport connections.',
                            price: '1-day: €13.95 | 3-day: €29.40 | 5-day: €42.05'
                        },
                        {
                            name: 'Navigo Weekly Pass',
                            description: 'Best value for longer stays. Unlimited travel zones 1-5 (includes airports).',
                            price: '€30 per week (Monday-Sunday) + €5 card fee'
                        }
                    ]
                },
                tokyo: {
                    publicTransport: {
                        description: 'Tokyo has one of the world\'s best public transportation systems with extensive metro, train, and bus networks.',
                        options: [
                            {
                                name: 'Tokyo Metro',
                                description: '9 metro lines covering central Tokyo. Clean, punctual, and efficient.',
                                price: '¥170-¥320 depending on distance',
                                hours: '5:00 AM - 1:00 AM'
                            },
                            {
                                name: 'JR Lines (Japan Railways)',
                                description: 'Includes the famous Yamanote Loop Line circling central Tokyo.',
                                price: '¥150-¥500 depending on distance',
                                hours: '4:30 AM - 1:00 AM'
                            },
                            {
                                name: 'Buses',
                                description: 'Extensive network but less tourist-friendly due to limited English signage.',
                                price: 'Flat fare: ¥210',
                                hours: 'Varies by route, typically 6:00 AM - 11:00 PM'
                            }
                        ],
                        tip: 'Get a Suica or Pasmo IC card for seamless travel. Trains stop running around midnight - plan accordingly or budget for taxis.'
                    },
                    taxis: {
                        description: 'Japanese taxis are clean, safe, and drivers are professional (though English is limited).',
                        info: 'Automatic doors - don\'t touch them! Show address in Japanese or use GPS.',
                        price: 'Initial: ¥500 | Per 237m: ¥90 | Late night (10PM-5AM): 20% surcharge',
                        tip: 'Tipping is not done in Japan - it can be considered rude. Most drivers don\'t speak English, so have your destination written in Japanese.'
                    },
                    ridesharing: {
                        description: 'Ride-sharing options are more limited than Western cities.',
                        apps: ['JapanTaxi (GO)', 'DiDi', 'Uber (limited)'],
                        price: 'Similar to regular taxi rates',
                        tip: 'JapanTaxi (GO) app is most reliable and works with regular taxis. Uber availability is limited.'
                    },
                    airport: {
                        description: 'Excellent connections from Narita and Haneda airports to central Tokyo.',
                        options: [
                            {
                                name: 'Narita Express (N\'EX)',
                                description: 'Fast train from Narita Airport to major Tokyo stations',
                                price: '¥3,070 (Tokyo Station)',
                                duration: '60 minutes'
                            },
                            {
                                name: 'Keisei Skyliner',
                                description: 'Fastest option from Narita to Ueno',
                                price: '¥2,520',
                                duration: '41 minutes'
                            },
                            {
                                name: 'Tokyo Monorail (from Haneda)',
                                description: 'Convenient connection from Haneda to Hamamatsucho',
                                price: '¥500',
                                duration: '20 minutes'
                            },
                            {
                                name: 'Limousine Bus',
                                description: 'Direct buses to major hotels from both airports',
                                price: '¥3,200-3,800',
                                duration: '70-90 minutes depending on traffic'
                            }
                        ]
                    },
                    passes: [
                        {
                            name: 'Tokyo Subway Ticket',
                            description: 'Unlimited rides on Tokyo Metro and Toei Subway lines.',
                            price: '24hr: ¥800 | 48hr: ¥1,200 | 72hr: ¥1,500'
                        },
                        {
                            name: 'JR Tokyo Wide Pass',
                            description: 'Unlimited JR travel in Kanto region including day trips to Mt. Fuji, Nikko.',
                            price: '¥10,180 for 3 consecutive days'
                        }
                    ]
                },
                'new york': {
                    publicTransport: {
                        description: 'NYC has a 24/7 subway system and extensive bus network serving all five boroughs.',
                        options: [
                            {
                                name: 'Subway',
                                description: '472 stations across 27 lines. Runs 24/7 but some lines have limited late-night service.',
                                price: 'Single ride: $2.90 | Unlimited 7-day: $34',
                                hours: '24 hours, 7 days a week'
                            },
                            {
                                name: 'Bus',
                                description: 'Extensive network with Select Bus Service (SBS) for faster routes.',
                                price: 'Same as subway: $2.90',
                                hours: '24 hours on major routes'
                            },
                            {
                                name: 'Staten Island Ferry',
                                description: 'Free ferry with amazing views of Statue of Liberty and Manhattan skyline.',
                                price: 'FREE',
                                hours: '24 hours, every 30 minutes'
                            }
                        ],
                        tip: 'Get a MetroCard at any subway station. Download the MYmta app for real-time updates. Express trains skip stops!'
                    },
                    taxis: {
                        description: 'Iconic yellow cabs are everywhere in Manhattan.',
                        info: 'Yellow cabs (Manhattan) and green cabs (outer boroughs). Metered fares.',
                        price: 'Initial: $3.00 | Per mile: $2.50 | Peak surcharge: $2.50 | Night surcharge: $0.50',
                        tip: 'Tip 15-20% is expected. Hail with raised arm. Only yellow cabs can pick up street hails in Manhattan.'
                    },
                    ridesharing: {
                        description: 'Uber and Lyft are very popular and widely available.',
                        apps: ['Uber', 'Lyft', 'Via (shared rides)', 'Juno'],
                        price: 'Base: $2.55 | Per mile: $1.75 | Surge pricing common during rush hour and rain',
                        tip: 'Surge pricing can double prices during peak times. Compare with yellow cab rates. Tip through app (15-20%).'
                    },
                    airport: {
                        description: 'Multiple options for JFK, LaGuardia, and Newark airports.',
                        options: [
                            {
                                name: 'AirTrain + Subway (JFK)',
                                description: 'AirTrain to Jamaica or Howard Beach + subway to Manhattan',
                                price: '$8.25 AirTrain + $2.90 subway = $11.15 total',
                                duration: '60-90 minutes'
                            },
                            {
                                name: 'Express Bus (LaGuardia)',
                                description: 'M60-SBS or Q70-SBS to subway connections',
                                price: '$2.90',
                                duration: '45-60 minutes + subway time'
                            },
                            {
                                name: 'Yellow Cab',
                                description: 'Flat rate from JFK to Manhattan',
                                price: '$70 flat rate (JFK) | Metered from LGA ($35-50) and EWR ($65-90)',
                                duration: '45-90 minutes depending on traffic'
                            },
                            {
                                name: 'Ride-share',
                                description: 'Uber/Lyft available from all airports',
                                price: '$40-80 depending on destination and surge pricing',
                                duration: '45-90 minutes'
                            }
                        ]
                    },
                    passes: [
                        {
                            name: '7-Day Unlimited MetroCard',
                            description: 'Unlimited subway and local bus rides for 7 days.',
                            price: '$34'
                        },
                        {
                            name: 'Pay-Per-Ride MetroCard',
                            description: 'Add money as needed. Get 5% bonus when adding $5.50+.',
                            price: '$2.90 per ride'
                        }
                    ]
                },
                dubai: {
                    publicTransport: {
                        description: 'Dubai has a modern, air-conditioned public transport system including metro, trams, and buses.',
                        options: [
                            {
                                name: 'Dubai Metro',
                                description: 'Driverless metro with Red and Green lines. Clean and efficient.',
                                price: 'Zone-based: AED 3-8.50 | Gold class available',
                                hours: 'Sat-Wed: 5:00 AM - 12:00 AM | Thu-Fri: 5:00 AM - 1:00 AM'
                            },
                            {
                                name: 'Dubai Tram',
                                description: 'Connects Dubai Marina, JBR, and Media City.',
                                price: 'AED 3-6.50',
                                hours: '6:00 AM - 1:00 AM'
                            },
                            {
                                name: 'Buses',
                                description: 'Extensive network covering areas not served by metro.',
                                price: 'AED 3-7.50',
                                hours: '24 hours on major routes'
                            }
                        ],
                        tip: 'Get a Nol Card (rechargeable) for all public transport. Silver class metro is standard, Gold class offers more space and comfort.'
                    },
                    taxis: {
                        description: 'Dubai taxis are metered, safe, and air-conditioned. Available 24/7.',
                        info: 'Cream-colored taxis are operated by RTA (most reliable). Pink-topped taxis driven by women for women passengers.',
                        price: 'Initial: AED 5-12 (airport starts at AED 25) | Per km: AED 1.96-2.82',
                        tip: 'Round up to nearest AED 5-10 is appreciated. App-based booking through Dubai Taxi app. Very reliable and safe.'
                    },
                    ridesharing: {
                        description: 'Ride-sharing apps are popular and reliable in Dubai.',
                        apps: ['Uber', 'Careem (local, most popular)', 'Yango'],
                        price: 'Similar to taxi rates, sometimes cheaper',
                        tip: 'Careem is the most popular local app. Offers economy, business, and luxury options. Peak pricing during rush hours.'
                    },
                    airport: {
                        description: 'Dubai International (DXB) is one of the world\'s busiest airports with excellent connections.',
                        options: [
                            {
                                name: 'Dubai Metro Red Line',
                                description: 'Direct connection from both terminals to city',
                                price: 'AED 7.50-8.50 to most areas',
                                duration: '20-40 minutes depending on destination'
                            },
                            {
                                name: 'Airport Taxi',
                                description: 'Official taxis available 24/7 from designated stands',
                                price: 'AED 25 starting fee + distance (AED 60-90 to city center)',
                                duration: '20-30 minutes off-peak, 45+ during rush hour'
                            },
                            {
                                name: 'Private Transfer',
                                description: 'Many hotels offer shuttle service or can arrange transfers',
                                price: 'AED 100-200 depending on vehicle',
                                duration: '20-45 minutes'
                            }
                        ]
                    },
                    passes: [
                        {
                            name: 'Nol Red Ticket',
                            description: 'Paper ticket valid for 10 trips within 90 days. Good for short visits.',
                            price: 'AED 2 card fee + journey fare'
                        },
                        {
                            name: 'Nol Silver Card',
                            description: 'Rechargeable card for metro, bus, tram, and water bus. Best for longer stays.',
                            price: 'AED 25 (includes AED 19 credit + AED 6 card fee)'
                        }
                    ]
                }
            };

            var cityLower = city.toLowerCase();
            var data = transportDatabase[cityLower];

            if (!data) {
                // Generic transportation info
                data = {
                    publicTransport: {
                        description: 'Most major cities have public transportation systems including buses, trains, or metro.',
                        options: [
                            {
                                name: 'Public Transit',
                                description: 'Check local transit authority website for routes, schedules, and fares.',
                                price: 'Varies by city',
                                hours: 'Varies by route'
                            }
                        ],
                        tip: 'Download the local transit app for real-time updates and journey planning.'
                    },
                    taxis: {
                        description: 'Licensed taxis are available in most cities.',
                        info: 'Always use official metered taxis or pre-book through reputable services.',
                        price: 'Varies by city and distance',
                        tip: 'Negotiate fare beforehand in cities without meters, or insist on meter usage.'
                    },
                    ridesharing: {
                        description: 'Ride-sharing apps may be available depending on the city.',
                        apps: ['Uber', 'Bolt', 'Local alternatives'],
                        price: 'Typically competitive with taxi rates',
                        tip: 'Check if ride-sharing apps operate in ' + city + ' before relying on them.'
                    },
                    airport: {
                        description: 'Check airport website for official transportation options.',
                        options: [
                            {
                                name: 'Airport Shuttle',
                                description: 'Many airports offer shuttle bus services to city center',
                                price: 'Usually economical option',
                                duration: 'Varies'
                            },
                            {
                                name: 'Taxi',
                                description: 'Official airport taxis available at designated stands',
                                price: 'More expensive but convenient',
                                duration: 'Varies'
                            }
                        ]
                    },
                    passes: [
                        {
                            name: 'Tourist Pass',
                            description: 'Many cities offer tourist transportation passes with unlimited travel.',
                            price: 'Check local transit authority for details'
                        }
                    ]
                };
            }

            return data;
        }
    </script>
</body>
</html>
